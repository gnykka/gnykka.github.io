{"mappings":"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","sources":["src/scripts/index.js"],"sourcesContent":["(() => {\n  window.addEventListener('load', () => {\n    const body = document.querySelector('body');\n\n    // Кнопка \"Наверх\"\n    const upButton = document.querySelector('.up-btn');\n\n    if (upButton) {\n      upButton.addEventListener('click', () => {\n        document.body.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n      });\n    }\n\n    // Обработка выбора тегов\n    const headerTags = document.querySelector('header .tags');\n\n    if (headerTags) {\n      const tagsOpenBtn = headerTags.querySelector('b');\n\n      tagsOpenBtn.addEventListener('click', () => { headerTags.classList.toggle('opened'); });\n\n      const tags = headerTags.querySelectorAll('button');\n      const cards = document.querySelectorAll('.card');\n\n      let selectedTag = \"\";\n\n      [...tags].forEach(tag => {\n        tag.addEventListener('click', () => {\n          const selected = document.querySelector(`header .tags button[data-name=\"${selectedTag}\"]`);\n\n          if (selected) {\n            selected.classList.remove('active');\n          }\n\n          const name = tag.dataset.name;\n\n          if (selectedTag !== name) {\n            selectedTag = name;\n            tag.classList.add('active');\n\n            [...cards].forEach(card => {\n              card.style.display = card.classList.contains(`tag-${name}`) ? 'block' : 'none';\n            });\n          } else {\n            selectedTag = '';\n            tag.classList.remove('active');\n            [...cards].forEach(card => { card.style.display = 'block'; });\n          }\n        });\n      });\n    }\n\n    // Обработка слайдеров на странице промокодов\n    const sliders = document.querySelectorAll('.sliders > div');\n\n    if (sliders && sliders.length) {\n      sliders.forEach(slider => {\n        const input = slider.querySelector('input');\n        const span = slider.querySelector('span');\n\n        input.addEventListener('input', () => {\n          span.innerText = input.value;\n        });\n      });\n    }\n\n    // Инициализация игр на странице рекомендаций\n    const canvases = document.querySelectorAll('.game');\n\n    if (canvases && canvases.length) {\n      const fullHeight = () => {\n        const vh = window.innerHeight * 0.01;\n        const canvases = document.querySelectorAll('.game');\n\n        canvases.forEach(canvas => {\n          canvas.style.setProperty('--vh', `${vh}px`);\n        });\n      }\n\n      fullHeight();\n      window.addEventListener('resize', () => {\n        if (window.innerWidth < 768) {\n          fullHeight();\n        }\n      });\n\n       new Shapes('#shapes-game');\n       new Heart('#heart-game');\n       new Memo('#memo-game');\n    }\n\n    // Обработка смены картинок на странице пожара\n    const fireSection = document.querySelector('.fire-texts');\n\n    if (fireSection) {\n      const blocks = fireSection.querySelectorAll('.breakpoint');\n      const cover = fireSection.querySelector('.cover');\n      const next = document.querySelector('.news-next-link');\n\n      const height = body.clientHeight;\n\n      body.addEventListener('scroll', (e) => {\n        const { top, bottom } = fireSection.getBoundingClientRect();\n        const isFixed = top <= height * 0.1;\n\n        // Зафиксируем картинку в самом верху\n        cover.classList.toggle('fixed', isFixed);\n        fireSection.style['padding-top'] = isFixed ? cover.clientHeight : 0;\n\n        // Отпустим картинку внизу, относительно футеров\n        cover.style.top = next.getBoundingClientRect().top < height\n          ? `calc(10vh - ${height - next.getBoundingClientRect().top}px)`\n          : '10vh';\n\n        // Найдём первый невидимый блок\n        const count = [...blocks].filter(block => block.getBoundingClientRect().top < height).length;\n\n        if (isFixed && count > 0) {\n          cover.className = `cover fixed cover-${count}`;\n        }\n      });\n    }\n\n    // Обработка смены номера на странице с телефоном\n    const phoneSection = document.querySelector('.phones-texts');\n\n    if (phoneSection) {\n      const blocks = phoneSection.querySelectorAll('.breakpoint');\n      const labels = phoneSection.querySelectorAll('.black-label');\n      const cover = phoneSection.querySelector('.cover');\n      const next = document.querySelector('.next-title');\n\n      const height = body.clientHeight;\n\n      body.addEventListener('scroll', (e) => {\n        const { top, bottom } = phoneSection.getBoundingClientRect();\n\n        const isFixed = top <= 50 && bottom >= height - phoneSection.clientHeight;\n        const isFixedFirstLabel = top <= 50;\n        const isFixedSecondLabel = blocks[6].getBoundingClientRect().top - 100 <= 50;\n\n        // Зафиксируем номер и лейбл в самом верху\n        labels[0].classList.toggle('fixed', isFixed && isFixedFirstLabel);\n        labels[1].classList.toggle('fixed', isFixed && isFixedSecondLabel);\n        cover.classList.toggle('fixed', isFixed && isFixedFirstLabel);\n\n        phoneSection.style['padding-top'] = isFixed && (isFixedFirstLabel || isFixedSecondLabel)\n          ? cover.clientHeight + 100 : 0;\n\n        // Отпустим всё внизу\n        const lastBottom = next.getBoundingClientRect().top - height * 0.1;\n\n        if (lastBottom < height) {\n          cover.style.top = `${lastBottom - height + 100}px`;\n          labels[0].style.top = `${lastBottom - height}px`;\n          labels[1].style.top = `${lastBottom - height}px`;\n        } else if (isFixed) {\n          cover.style.top = '100px';\n          labels[0].style.top = 0;\n          labels[1].style.top = 0;\n        } else {\n          cover.style.top = 0;\n          labels[0].style.top = 0;\n          labels[1].style.top = 0;\n        }\n\n        // Найдём первый невидимый блок\n        const { length } = [...blocks].filter(block => {\n          const { top, bottom } = block.getBoundingClientRect();\n          return bottom < height;\n        });\n\n        let count = 0;\n        if (length >= 1 && length <= 4) count = length + 2;\n        if (length > 4 && length <= 7) count = length + 3;\n        if (length > 7 && length <= 9) count = length + 4;\n        if (length > 9) count = length + 5;\n\n        const number = '+7 499 123-45-67';\n        const mapping = ['+', '#', ' ', '^', '!', '$', ' ', '^', '@', '(', '-', '*', '&', '-', '?', '>'];\n\n        if (isFixed && count > 0) {\n          let firstPart = number.slice(0, count).split('').map((_, i) => mapping[i]).join('');\n          let lastPart = number.slice(count);\n\n          cover.querySelector('span:first-child').innerText = firstPart;\n          cover.querySelector('span:last-child').innerText = lastPart;\n        }\n      });\n    }\n  });\n})();\n"],"names":["window","addEventListener","body","document","querySelector","upButton","scrollTo","top","left","behavior","headerTags","classList","toggle","tags","querySelectorAll","cards","selectedTag","forEach","tag","selected","remove","name","dataset","add","card","style","display","contains","sliders","length","slider","input","span","innerText","value","canvases1","fullHeight","vh","innerHeight","canvas","setProperty","innerWidth","Shapes","Heart","Memo","fireSection","blocks","cover","next","height","clientHeight","e","bottom","getBoundingClientRect","isFixed","count","filter","block","className","phoneSection","labels","bottom1","isFixedFirstLabel","isFixedSecondLabel","lastBottom","number","mapping","firstPart","slice","split","map","_","i","join","lastPart"],"version":3,"file":"index.a2fda9f9.js.map"}